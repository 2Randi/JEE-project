package fr.umontpellier.jeeS.service;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

import fr.umontpellier.jeeS.model.Batiment;
import fr.umontpellier.jeeS.model.Composante;
import fr.umontpellier.jeeS.repository.BatimentRepository;
import fr.umontpellier.jeeS.repository.ComposanteRepository;

@Service
public class ExploiteService {
	
	@Autowired
	private ComposanteRepository composanteRepository;
	
	@Autowired
	private BatimentRepository batimentRepository; 
	
	
	//add
	public void associateBatimentToComposante(Batiment batiment, Composante composante) {
		// TODO Auto-generated method stub
		if (composanteRepository.existsById(composante.getAcronyme()) &&
				batimentRepository.existsById(batiment.getCodeB())	) {
            throw new IllegalArgumentException("Impossible");
        }
        composanteRepository.save(composante);
        batimentRepository.save(batiment);

	}

}
